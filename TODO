- Flatten structs to update requests
- Figure out how to deal with optional query params
